# Pages that are available for all users
button:
    path: /b
    defaults: { _controller: Mibew\Controller\ButtonController::indexAction }

license:
    path: /license
    defaults: { _controller: Mibew\Controller\LicenseController::indexAction }

widget_gateway:
    path: /widget
    defaults: { _controller: Mibew\Controller\WidgetController::indexAction }

# Operators' pages
history:
    path: /operator/history
    defaults:
        _controller: Mibew\Controller\HistoryController::indexAction
        _access_check: Mibew\AccessControl\Check\LoggedInCheck

history_thread:
    path: /operator/history/thread/{thread_id}
    defaults:
        _controller: Mibew\Controller\HistoryController::threadAction
        _access_check: Mibew\AccessControl\Check\LoggedInCheck
    requirements:
        thread_id: \d{1,9}

history_user:
    path: /operator/history/user/{user_id}
    defaults:
        _controller: Mibew\Controller\HistoryController::userAction
        _access_check: Mibew\AccessControl\Check\LoggedInCheck
    requirements:
        user_id: .{0,63}

updates:
    path: /operator/updates
    defaults:
        _controller: Mibew\Controller\UpdatesController::indexAction
        _access_check: Mibew\AccessControl\Check\LoggedInCheck

users:
    path: /operator/users
    defaults:
        _controller: Mibew\Controller\UsersController::indexAction
        _access_check: Mibew\AccessControl\Check\LoggedInCheck

users_update:
    path: /operator/users/update
    defaults:
        _controller: Mibew\Controller\UsersController::updateAction
        _access_check: Mibew\AccessControl\Check\LoggedInCheck
