/*
 This file is part of Mibew Messenger project.
 http://mibew.org
 Copyright (c) 2005-2011 Mibew Messenger Community
 License: http://mibew.org/license.php
*/
(function(){var a=Handlebars.template,b=Handlebars.templates=Handlebars.templates||{};b.user_name_control=a(function(a,b,c,d,e){function l(a,b){var d="",e,f,g;d+='\n    <span class="user-name-control-prefix">',g={hash:{},data:b},d+=i((e=c.L10n,e?e.call(a,"chat.client.name",g):j.call(a,"L10n","chat.client.name",g)))+"</span>\n    ",f=c["if"].call(a,a.nameInput,{hash:{},inverse:k.program(4,n,b),fn:k.program(2,m,b),data:b});if(f||f===0)d+=f;return d+="\n",d}function m(a,b){var d="",e,f;return d+='\n        <div class="user-name-control-input-bg"><input id="user-name-control-input" type="text" size="12" value="'+i((e=(e=a.user,e==null||e===!1?e:e.name),typeof e===h?e.apply(a):e))+'" class="username" /></div>\n        <a href="javascript:void(0)" class="user-name-control-set tpl-image" title="',f={hash:{},data:b},d+=i((e=c.L10n,e?e.call(a,"chat.client.changename",f):j.call(a,"L10n","chat.client.changename",f)))+'"></a>\n    ',d}function n(a,b){var d="",e,f;return d+='\n        <a href="javascript:void(0)" title="',f={hash:{},data:b},d+=i((e=c.L10n,e?e.call(a,"chat.client.changename",f):j.call(a,"L10n","chat.client.changename",f)))+'">'+i((e=(e=a.user,e==null||e===!1?e:e.name),typeof e===h?e.apply(a):e))+'</a>\n        <a class="user-name-control-change tpl-image" title="',f={hash:{},data:b},d+=i((e=c.L10n,e?e.call(a,"chat.client.changename",f):j.call(a,"L10n","chat.client.changename",f)))+'"></a>\n    ',d}function o(a,b){var d="",e,f;return d+="\n",f={hash:{},data:b},d+=i((e=c.L10n,e?e.call(a,"chat.client.name",f):j.call(a,"L10n","chat.client.name",f)))+"&nbsp;"+i((e=(e=a.user,e==null||e===!1?e:e.name),typeof e===h?e.apply(a):e))+"\n",d}this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f,g,h="function",i=this.escapeExpression,j=c.helperMissing,k=this;return g=c["if"].call(b,(f=b.user,f==null||f===!1?f:f.canChangeName),{hash:{},inverse:k.program(6,o,e),fn:k.program(1,l,e),data:e}),g||g===0?g:""}),b.status_typing=a(function(a,b,c,d,e){this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f,g,h=c.helperMissing,i=this.escapeExpression;return g={hash:{},data:e},i((f=c.L10n,f?f.call(b,"typing.remote",g):h.call(b,"L10n","typing.remote",g)))}),b.chat_layout=a(function(a,b,c,d,e){function l(a,b){return'\n        <div id="avatar-region"></div>\n        '}this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f="",g,h,i=this,j=c.helperMissing,k=this.escapeExpression;f+='\n<div id="chat-header">\n    <div class="bgc"><div class="bgl"><div class="bgr">\n        \n        <div id="controls-region"></div>\n    </div></div></div>\n</div>\n\n\n<div id="chat">\n    <div class="bgl"><div class="bgr"><div class="sdwbgc"><div class="sdwbgl"><div class="sdwbgr">\n        ',g=c["if"].call(b,b.user,{hash:{},inverse:i.noop,fn:i.program(1,l,e),data:e});if(g||g===0)f+=g;return f+='\n        \n        <div id="messages-region"></div>\n        \n        <div id="status-region"></div>\n    </div></div></div></div></div>\n</div>\n\n\n<div id="message-form-region"></div>\n\n\n<div id="footer">',h={hash:{},data:e},f+=k((g=c.L10n,g?g.call(b,"chat.window.poweredby",h):j.call(b,"L10n","chat.window.poweredby",h)))+' <a id="poweredByLink" href="http://mibew.org" title="Mibew Community" target="_blank">mibew.org</a></div>\n\n'+'\n<div id="sound-region"></div>',f}),b.avatar=a(function(a,b,c,d,e){function j(a,b){var d="",e;return d+='<img src="',(e=c.imageLink)?e=e.call(a,{hash:{},data:b}):(e=a.imageLink,e=typeof e===g?e.apply(a):e),d+=h(e)+'" border="0" alt="" />',d}function k(a,b){return'<div class="default-avatar"></div>'}this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f,g="function",h=this.escapeExpression,i=this;return f=c["if"].call(b,b.imageLink,{hash:{},inverse:i.program(3,k,e),fn:i.program(1,j,e),data:e}),f||f===0?f:""}),b.close_control=a(function(a,b,c,d,e){this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="tpl-image" title="',h={hash:{},data:e},f+=j((g=c.L10n,g?g.call(b,"chat.window.close_title",h):i.call(b,"L10n","chat.window.close_title",h)))+'"></div>',f}),b.history_control=a(function(a,b,c,d,e){this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="tpl-image" title="',h={hash:{},data:e},f+=j((g=c.L10n,g?g.call(b,"page.analysis.userhistory.title",h):i.call(b,"L10n","page.analysis.userhistory.title",h)))+'"></div>',f}),b.status_message=a(function(a,b,c,d,e){this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f,g="function",h=this.escapeExpression;return(f=c.message)?f=f.call(b,{hash:{},data:e}):(f=b.message,f=typeof f===g?f.apply(b):f),h(f)}),b.secure_mode_control=a(function(a,b,c,d,e){return this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{},'<div class="tpl-image" title="SSL"></div>'}),b.sound_control=a(function(a,b,c,d,e){function j(a,b){var d="",e,f;return d+='\n    <div class="tpl-image sound-control-on" title="',f={hash:{},data:b},d+=h((e=c.L10n,e?e.call(a,"chat.window.toolbar.turn_off_sound",f):g.call(a,"L10n","chat.window.toolbar.turn_off_sound",f)))+'"></div>\n',d}function k(a,b){var d="",e,f;return d+='\n    <div class="tpl-image sound-control-off" title="',f={hash:{},data:b},d+=h((e=c.L10n,e?e.call(a,"chat.window.toolbar.turn_on_sound",f):g.call(a,"L10n","chat.window.toolbar.turn_on_sound",f)))+'"></div>\n',d}this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f,g=c.helperMissing,h=this.escapeExpression,i=this;return f=c["if"].call(b,b.enabled,{hash:{},inverse:i.program(3,k,e),fn:i.program(1,j,e),data:e}),f||f===0?f:""}),b.message=a(function(a,b,c,d,e){function n(a,b){var d="",e;return d+="<span class='n",(e=c.kindName)?e=e.call(a,{hash:{},data:b}):(e=a.kindName,e=typeof e===j?e.apply(a):e),d+=k(e)+"'>",(e=c.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===j?e.apply(a):e),d+=k(e)+"</span>: ",d}function o(a,b){var d,e;return e={hash:{},data:b},k((d=c.apply,d?d.call(a,a.message,"urlReplace, nl2br, allowTags",e):l.call(a,"apply",a.message,"urlReplace, nl2br, allowTags",e)))}function p(a,b){var d,e;return e={hash:{},data:b},k((d=c.apply,d?d.call(a,a.message,"urlReplace, nl2br",e):l.call(a,"apply",a.message,"urlReplace, nl2br",e)))}this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f="",g,h,i,j="function",k=this.escapeExpression,l=c.helperMissing,m=this;f+="<span>",i={hash:{},data:e},f+=k((g=c.formatTime,g?g.call(b,b.created,i):l.call(b,"formatTime",b.created,i)))+"</span> \n",h=c["if"].call(b,b.name,{hash:{},inverse:m.noop,fn:m.program(1,n,e),data:e});if(h||h===0)f+=h;f+="\n<span class='m",(h=c.kindName)?h=h.call(b,{hash:{},data:e}):(h=b.kindName,h=typeof h===j?h.apply(b):h),f+=k(h)+"'>",h=c["if"].call(b,b.allowFormatting,{hash:{},inverse:m.program(5,p,e),fn:m.program(3,o,e),data:e});if(h||h===0)f+=h;return f+="</span><br/>",f}),b.message_form=a(function(a,b,c,d,e){function m(a,b){return'\n    <div class="bgc"><div class="bgl"><div class="bgr">\n        <textarea id="message-input" class="message" tabindex="0" rows="4" cols="10"></textarea>\n    </div></div></div>\n'}function n(a,b){var d="",e,f,g;d+='\n    <div id="postmessage">\n        <div id="predefined-wrapper">\n            ',f=c["if"].call(a,(e=a.user,e==null||e===!1?e:e.isAgent),{hash:{},inverse:l.noop,fn:l.program(4,o,b),data:b});if(f||f===0)d+=f;return d+='\n        </div>\n        <a href="javascript:void(0)" id="send-message" title="',g={hash:{},data:b},d+=j((e=c.L10n,e?e.call(a,"chat.window.send_message",g):k.call(a,"L10n","chat.window.send_message",g)))+'">',g={hash:{},data:b},d+=j((e=c.L10n,e?e.call(a,"chat.window.send_message_short_and_shortcut",g):k.call(a,"L10n","chat.window.send_message_short_and_shortcut",g)))+"</a>\n    </div>\n",d}function o(a,b){var d="",e,f,g;d+='\n                <select id="predefined" size="1" class="answer">\n                    <option>',g={hash:{},data:b},d+=j((e=c.L10n,e?e.call(a,"chat.window.predefined.select_answer",g):k.call(a,"L10n","chat.window.predefined.select_answer",g)))+"</option>\n                ",f=c.each.call(a,a.predefinedAnswers,{hash:{},inverse:l.noop,fn:l.program(5,p,b),data:b});if(f||f===0)d+=f;return d+="\n                </select>\n            ",d}function p(a,b){var c="",d;return c+="\n                    <option>"+j((d=a["short"],typeof d===i?d.apply(a):d))+"</option>\n                ",c}this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f="",g,h,i="function",j=this.escapeExpression,k=c.helperMissing,l=this;f+='<div id="message">\n',h=c["if"].call(b,(g=b.user,g==null||g===!1?g:g.canPost),{hash:{},inverse:l.noop,fn:l.program(1,m,e),data:e});if(h||h===0)f+=h;f+='\n</div>\n\n<div id="send">\n',h=c["if"].call(b,(g=b.user,g==null||g===!1?g:g.canPost),{hash:{},inverse:l.noop,fn:l.program(3,n,e),data:e});if(h||h===0)f+=h;return f+='\n</div>\n<div class="clear"></div>',f}),b.send_mail_control=a(function(a,b,c,d,e){this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="tpl-image" title="',h={hash:{},data:e},f+=j((g=c.L10n,g?g.call(b,"chat.window.toolbar.mail_history",h):i.call(b,"L10n","chat.window.toolbar.mail_history",h)))+'"></div>',f}),b.refresh_control=a(function(a,b,c,d,e){this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f="",g,h,i=c.helperMissing,j=this.escapeExpression;return f+='<div class="tpl-image" title="',h={hash:{},data:e},f+=j((g=c.L10n,g?g.call(b,"chat.window.toolbar.refresh",h):i.call(b,"L10n","chat.window.toolbar.refresh",h)))+'"></div>',f}),b.redirect_control=a(function(a,b,c,d,e){function k(a,b){var d="",e,f;return d+='\n<div class="tpl-image" title="',f={hash:{},data:b},d+=i((e=c.L10n,e?e.call(a,"chat.window.toolbar.redirect_user",f):h.call(a,"L10n","chat.window.toolbar.redirect_user",f)))+'"></div>\n',d}this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f,g,h=c.helperMissing,i=this.escapeExpression,j=this;return g=c["if"].call(b,(f=b.user,f==null||f===!1?f:f.canPost),{hash:{},inverse:j.noop,fn:j.program(1,k,e),data:e}),g||g===0?g:""}),b.status=a(function(a,b,c,d,e){this.compilerInfo=[2,">= 1.0.0-rc.3"],c=c||a.helpers,e=e||{};var f,g="function",h=this.escapeExpression;return(f=c.title)?f=f.call(b,{hash:{},data:e}):(f=b.title,f=typeof f===g?f.apply(b):f),h(f)})})()