/*
 This file is part of Mibew Messenger project.
 http://mibew.org
 Copyright (c) 2005-2011 Mibew Messenger Community
 License: http://mibew.org/license.php
*/
(function(){var l=Handlebars.template,n=Handlebars.templates=Handlebars.templates||{};n.user_name_control=l(function(d,b,e,g,a){function c(a,d){var c,f,b;c=""+('\n        <div class="user-name-control-input-bg"><input id="user-name-control-input" type="text" size="12" value="'+j((f=(f=a.user,null==f||!1===f?f:f.name),typeof f===q?f.apply(a):f))+'" class="username" /></div>\n        <a href="javascript:void(0)" class="user-name-control-set tpl-image" title="');b={hash:{},data:d};return c+=j((f=e.L10n,
f?f.call(a,"chat.client.changename",b):m.call(a,"L10n","chat.client.changename",b)))+'"></a>\n    '}function k(a,d){var c,f,b;b={hash:{},data:d};c='\n        <a href="javascript:void(0)" title="'+(j((f=e.L10n,f?f.call(a,"chat.client.changename",b):m.call(a,"L10n","chat.client.changename",b)))+'">'+j((f=(f=a.user,null==f||!1===f?f:f.name),typeof f===q?f.apply(a):f))+'</a>\n        <a class="user-name-control-change tpl-image" title="');b={hash:{},data:d};return c+=j((f=e.L10n,f?f.call(a,"chat.client.changename",
b):m.call(a,"L10n","chat.client.changename",b)))+'"></a>\n    '}this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var h,q="function",j=this.escapeExpression,m=e.helperMissing,p=this;return(d=e["if"].call(b,(h=b.user,null==h||!1===h?h:h.canChangeName),{hash:{},inverse:p.program(6,function(a,d){var b,c;b={hash:{},data:d};return b="\n"+(j((c=e.L10n,c?c.call(a,"chat.client.name",b):m.call(a,"L10n","chat.client.name",b)))+"&nbsp;"+j((c=(c=a.user,null==c||!1===c?c:c.name),typeof c===q?c.apply(a):
c))+"\n")},a),fn:p.program(1,function(a,d){var b,f;b={hash:{},data:d};b='\n    <span class="user-name-control-prefix">'+(j((f=e.L10n,f?f.call(a,"chat.client.name",b):m.call(a,"L10n","chat.client.name",b)))+"</span>\n    ");if((f=e["if"].call(a,a.nameInput,{hash:{},inverse:p.program(4,k,d),fn:p.program(2,c,d),data:d}))||0===f)b+=f;return b+="\n"},a),data:a}))||0===d?d:""});n.status_typing=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c;d=e.helperMissing;g=this.escapeExpression;
a={hash:{},data:a};return g((c=e.L10n,c?c.call(b,"typing.remote",a):d.call(b,"L10n","typing.remote",a)))});n.chat_layout=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c,k;g=e.helperMissing;var h=this.escapeExpression;d='\n<div id="chat-header">\n    <div class="bgc"><div class="bgl"><div class="bgr">\n        \n        <div id="controls-region"></div>\n    </div></div></div>\n</div>\n\n\n<div id="chat">\n    <div class="bgl"><div class="bgr"><div class="sdwbgc"><div class="sdwbgl"><div class="sdwbgr">\n        ';
if((k=e.unless.call(b,(c=b.user,null==c||!1===c?c:c.isAgent),{hash:{},inverse:this.noop,fn:this.program(1,function(){return'\n        <div id="avatar-region"></div>\n        '},a),data:a}))||0===k)d+=k;a={hash:{},data:a};return d=d+'\n        \n        <div id="messages-region"></div>\n        \n        <div id="status-region"></div>\n    </div></div></div></div></div>\n</div>\n\n\n<div id="message-form-region"></div>\n\n\n<div id="footer">'+(h((c=e.L10n,c?c.call(b,"chat.window.poweredby",a):g.call(b,
"L10n","chat.window.poweredby",a)))+' <a id="poweredByLink" href="http://mibew.org" title="Mibew Community" target="_blank">mibew.org</a></div>\n\n\n<div id="sound-region"></div>')});n.avatar=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c=this.escapeExpression;return(d=e["if"].call(b,b.imageLink,{hash:{},inverse:this.program(3,function(){return'<div class="default-avatar"></div>'},a),fn:this.program(1,function(a,d){var b,j;b='<img src="';(j=e.imageLink)?j=
j.call(a,{hash:{},data:d}):(j=a.imageLink,j="function"===typeof j?j.apply(a):j);return b+=c(j)+'" border="0" alt="" />'},a),data:a}))||0===d?d:""});n.close_control=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c;d=e.helperMissing;g=this.escapeExpression;a={hash:{},data:a};return b='<div class="tpl-image" title="'+(g((c=e.L10n,c?c.call(b,"chat.window.close_title",a):d.call(b,"L10n","chat.window.close_title",a)))+'"></div>')});n.history_control=l(function(d,
b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c;d=e.helperMissing;g=this.escapeExpression;a={hash:{},data:a};return b='<div class="tpl-image" title="'+(g((c=e.L10n,c?c.call(b,"page.analysis.userhistory.title",a):d.call(b,"L10n","page.analysis.userhistory.title",a)))+'"></div>')});n.status_message=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};d=this.escapeExpression;(e=e.message)?e=e.call(b,{hash:{},data:a}):(e=b.message,e="function"===
typeof e?e.apply(b):e);return d(e)});n.secure_mode_control=l(function(){this.compilerInfo=[2,">= 1.0.0-rc.3"];return'<div class="tpl-image" title="SSL"></div>'});n.sound_control=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c=e.helperMissing,k=this.escapeExpression;return(d=e["if"].call(b,b.enabled,{hash:{},inverse:this.program(3,function(a,d){var b,m;b={hash:{},data:d};return b='\n    <div class="tpl-image sound-control-off" title="'+(k((m=e.L10n,m?m.call(a,
"chat.window.toolbar.turn_on_sound",b):c.call(a,"L10n","chat.window.toolbar.turn_on_sound",b)))+'"></div>\n')},a),fn:this.program(1,function(a,d){var b,m;b={hash:{},data:d};return b='\n    <div class="tpl-image sound-control-on" title="'+(k((m=e.L10n,m?m.call(a,"chat.window.toolbar.turn_off_sound",b):c.call(a,"L10n","chat.window.toolbar.turn_off_sound",b)))+'"></div>\n')},a),data:a}))||0===d?d:""});n.message=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c,
k=this.escapeExpression,h=e.helperMissing;d={hash:{},data:a};d="<span>"+(k((c=e.formatTime,c?c.call(b,b.created,d):h.call(b,"formatTime",b.created,d)))+"</span> \n");if((c=e["if"].call(b,b.name,{hash:{},inverse:this.noop,fn:this.program(1,function(a,b){var d,c;d="<span class='n";(c=e.kindName)?c=c.call(a,{hash:{},data:b}):(c=a.kindName,c="function"===typeof c?c.apply(a):c);d+=k(c)+"'>";(c=e.name)?c=c.call(a,{hash:{},data:b}):(c=a.name,c="function"===typeof c?c.apply(a):c);return d+=k(c)+"</span>: "},
a),data:a}))||0===c)d+=c;d+="\n<span class='m";(c=e.kindName)?c=c.call(b,{hash:{},data:a}):(c=b.kindName,c="function"===typeof c?c.apply(b):c);d+=k(c)+"'>";if((c=e["if"].call(b,b.allowFormatting,{hash:{},inverse:this.program(5,function(a,d){var b,c;c={hash:{},data:d};return k((b=e.apply,b?b.call(a,a.message,"urlReplace, nl2br",c):h.call(a,"apply",a.message,"urlReplace, nl2br",c)))},a),fn:this.program(3,function(a,d){var b,c;c={hash:{},data:d};return k((b=e.apply,b?b.call(a,a.message,"urlReplace, nl2br, allowTags",
c):h.call(a,"apply",a.message,"urlReplace, nl2br, allowTags",c)))},a),data:a}))||0===c)d+=c;return d+="</span><br/>"});n.message_form=l(function(d,b,e,g,a){function c(a,b){var c,d;c={hash:{},data:b};c='\n                <select id="predefined" size="1" class="answer">\n                    <option>'+(j((d=e.L10n,d?d.call(a,"chat.window.predefined.select_answer",c):m.call(a,"L10n","chat.window.predefined.select_answer",c)))+"</option>\n                ");if((d=e.each.call(a,a.predefinedAnswers,{hash:{},
inverse:p.noop,fn:p.program(5,k,b),data:b}))||0===d)c+=d;return c+="\n                </select>\n            "}function k(a){var c;return a=""+("\n                    <option>"+j((c=a["short"],typeof c===l?c.apply(a):c))+"</option>\n                ")}this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var h,l="function",j=this.escapeExpression,m=e.helperMissing,p=this;d='<div id="message">\n';if((g=e["if"].call(b,(h=b.user,null==h||!1===h?h:h.canPost),{hash:{},inverse:p.noop,fn:p.program(1,
function(){return'\n    <div class="bgc"><div class="bgl"><div class="bgr">\n        <textarea id="message-input" class="message" tabindex="0" rows="4" cols="10"></textarea>\n    </div></div></div>\n'},a),data:a}))||0===g)d+=g;d+='\n</div>\n\n<div id="send">\n';if((g=e["if"].call(b,(h=b.user,null==h||!1===h?h:h.canPost),{hash:{},inverse:p.noop,fn:p.program(3,function(a,d){var b,f,g;b='\n    <div id="postmessage">\n        <div id="predefined-wrapper">\n            ';if((g=e["if"].call(a,(f=a.user,
null==f||!1===f?f:f.isAgent),{hash:{},inverse:p.noop,fn:p.program(4,c,d),data:d}))||0===g)b+=g;g={hash:{},data:d};b=b+'\n        </div>\n        <a href="javascript:void(0)" id="send-message" title="'+(j((f=e.L10n,f?f.call(a,"chat.window.send_message",g):m.call(a,"L10n","chat.window.send_message",g)))+'">');g={hash:{},data:d};return b+=j((f=e.L10n,f?f.call(a,"chat.window.send_message_short_and_shortcut",g):m.call(a,"L10n","chat.window.send_message_short_and_shortcut",g)))+"</a>\n    </div>\n"},a),
data:a}))||0===g)d+=g;return d+'\n</div>\n<div class="clear"></div>'});n.send_mail_control=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c;d=e.helperMissing;g=this.escapeExpression;a={hash:{},data:a};return b='<div class="tpl-image" title="'+(g((c=e.L10n,c?c.call(b,"chat.window.toolbar.mail_history",a):d.call(b,"L10n","chat.window.toolbar.mail_history",a)))+'"></div>')});n.refresh_control=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;
a=a||{};var c;d=e.helperMissing;g=this.escapeExpression;a={hash:{},data:a};return b='<div class="tpl-image" title="'+(g((c=e.L10n,c?c.call(b,"chat.window.toolbar.refresh",a):d.call(b,"L10n","chat.window.toolbar.refresh",a)))+'"></div>')});n.redirect_control=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};var c,k=e.helperMissing,h=this.escapeExpression;return(d=e["if"].call(b,(c=b.user,null==c||!1===c?c:c.canPost),{hash:{},inverse:this.noop,fn:this.program(1,function(a,
c){var b,d;b={hash:{},data:c};return b='\n<div class="tpl-image" title="'+(h((d=e.L10n,d?d.call(a,"chat.window.toolbar.redirect_user",b):k.call(a,"L10n","chat.window.toolbar.redirect_user",b)))+'"></div>\n')},a),data:a}))||0===d?d:""});n.status=l(function(d,b,e,g,a){this.compilerInfo=[2,">= 1.0.0-rc.3"];e=e||d.helpers;a=a||{};d=this.escapeExpression;(e=e.title)?e=e.call(b,{hash:{},data:a}):(e=b.title,e="function"===typeof e?e.apply(b):e);return d(e)})})();
